<!--
@license
Copyright (c) 2017 Swarm City
This code may only be used under the license found at https://github.com/swarmcity/license
-->
<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../data/data-web3.html">
<link rel="import" href="../redux-state.html">
<!--

Example:
```
<display-geolocation></display-geolocation>
```

### Styling

Style the button with CSS as you would a normal DOM element.

The following custom properties and mixins are available for styling:

| Custom property | Description | Default |
| --- | --- | --- |
| `--display-upload-file-height | Mixin applied to the width of the componant | `135px` |


-->
<dom-module id="display-geohash">
    <template>
        <style>
            :host {
                display: block;
            }
            .hash-tag{
                color: var(--grey-5);
                font-size: 30px;
                line-height: 36px;
                font-weight: 800;
                margin-top: 20px;
            }
</style>
        <data-web3 id="web3"></data-web3>
        <div class="hash-tag">#{{hashtagName}}</div>
        </template>
    <script>
        class DisplayGeolocation extends new ReduxMixin(Polymer.mixinBehaviors([
            Polymer.AppLocalizeBehavior],
            Polymer.Element
        )) {
        static get is() { return 'display-geohash';}
        static get properties() { return {
            language: {
                type: String,
                statePath: 'language',
            },
            /**
            * Loading indicates if the componant is loading
            * @type {Boolean}
            */
            loading: {
                type: Boolean,
                value: false,
                notify: true,
            },
            hashtag: {
                type: Object,
                notify: true,
            },
            path: {
                type: String,
                value: null,
                notify: true,
            },
            routeData: {
                type: String,
                observer: '_getHashtag',
            },
        };
    }

    _getHashtag() {
        if(this.routeData.page) {
            this.loading = true;
            this.$.web3.deals(this.routeData.page)
            .then((data) => {
                this.hashtagName = data.name;
                this.hashtag = data;
                this.loading = false;
            });
        }
    }

} window.customElements.define(DisplayGeolocation.is, DisplayGeolocation);
</script>
</dom-module>
